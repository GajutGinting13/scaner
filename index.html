<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instascan Scanner</title>
    <!-- Menggunakan CDN untuk Instascan -->
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
</head>

<body>
    <h1>Instascan Scanner</h1>
    <video id="scanner" playsinline style="transform: scaleX(-1);"></video>
    <div id="result"></div>

    <script>
    // Inisialisasi Instascan
    let scanner = new Instascan.Scanner({
        video: document.getElementById('scanner')
    });

    // Atur fungsi pemindaian
    scanner.addListener('scan', function(content) {
        // Handle hasil pemindaian di sini
        document.getElementById('result').innerText = 'Hasil Pemindaian: ' + content;
    });

    // Mulai kamera belakang jika tersedia
    // Mendapatkan daftar kamera yang tersedia
    Instascan.Camera.getCameras().then(function(cameras) {
        if (cameras.length > 0) {
            // Memulai Instascan Scanner dengan kamera yang dipilih
            let selectedCamera = cameras[1]; // Misalnya, menggunakan kamera pertama
            scanner.start(selectedCamera);

            // Menangkap elemen video dari DOM
            let videoElement = document.getElementById('video');

            // Memperbarui CSS untuk membalik horizontal video
        } else {
            console.error('Tidak ada kamera yang ditemukan.');
        }
    }).catch(function(error) {
        console.error('Error accessing camera:', error);
    });
    </script>
</body>

</html>
